<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="content-type"
        content="application/xhtml+xml; charset=UTF-8" />
  <title>gcb_sq.md</title>
  <style type="text/css">
    h1 { text-align: center }
    blockquote.block { font-size: 16pt }
    body { background: white; color: black; max-width: 48em }
  </style>
</head>

<body>

  <h1>gcb_sq.md</h1>

  <h2>Copland Source</h2>

  <blockquote class="block">
    <pre>
*ghost:
  @client @bank attest bank sys -&gt; @client prove client id
    </pre>
  </blockquote>

  <h2>Abstract Syntax Tree</h2>

<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: AST Pages: 1 -->
<svg width="251pt" height="332pt"
 viewBox="0.00 0.00 251.14 332.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 328)">
<title>AST</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-328 247.14,-328 247.14,4 -4,4"/>
<!-- n0 -->
<g id="node1" class="node">
<title>n0</title>
<ellipse fill="none" stroke="black" cx="62.39" cy="-90" rx="62.29" ry="18"/>
<text text-anchor="middle" x="62.39" y="-86.3" font-family="Times,serif" font-size="14.00">attest bank sys</text>
</g>
<!-- n1 -->
<g id="node2" class="node">
<title>n1</title>
<ellipse fill="none" stroke="black" cx="181.39" cy="-18" rx="61.99" ry="18"/>
<text text-anchor="middle" x="181.39" y="-14.3" font-family="Times,serif" font-size="14.00">prove client id</text>
</g>
<!-- n2 -->
<g id="node3" class="node">
<title>n2</title>
<ellipse fill="none" stroke="black" cx="181.39" cy="-90" rx="38.19" ry="18"/>
<text text-anchor="middle" x="181.39" y="-86.3" font-family="Times,serif" font-size="14.00">@client</text>
</g>
<!-- n2&#45;&gt;n1 -->
<g id="edge1" class="edge">
<title>n2&#45;&gt;n1</title>
<path fill="none" stroke="black" d="M181.39,-71.7C181.39,-63.98 181.39,-54.71 181.39,-46.11"/>
<polygon fill="black" stroke="black" points="184.89,-46.1 181.39,-36.1 177.89,-46.1 184.89,-46.1"/>
</g>
<!-- n3 -->
<g id="node4" class="node">
<title>n3</title>
<ellipse fill="none" stroke="black" cx="121.39" cy="-162" rx="27" ry="18"/>
<text text-anchor="middle" x="121.39" y="-158.3" font-family="Times,serif" font-size="14.00">&#45;&gt;</text>
</g>
<!-- n3&#45;&gt;n0 -->
<g id="edge2" class="edge">
<title>n3&#45;&gt;n0</title>
<path fill="none" stroke="black" d="M108.59,-145.81C101.1,-136.93 91.48,-125.5 82.95,-115.39"/>
<polygon fill="black" stroke="black" points="85.53,-113.02 76.41,-107.63 80.18,-117.53 85.53,-113.02"/>
</g>
<!-- n3&#45;&gt;n2 -->
<g id="edge3" class="edge">
<title>n3&#45;&gt;n2</title>
<path fill="none" stroke="black" d="M134.41,-145.81C142.14,-136.8 152.1,-125.18 160.86,-114.95"/>
<polygon fill="black" stroke="black" points="163.72,-117 167.57,-107.13 158.4,-112.45 163.72,-117"/>
</g>
<!-- n4 -->
<g id="node5" class="node">
<title>n4</title>
<ellipse fill="none" stroke="black" cx="121.39" cy="-234" rx="36.29" ry="18"/>
<text text-anchor="middle" x="121.39" y="-230.3" font-family="Times,serif" font-size="14.00">@bank</text>
</g>
<!-- n4&#45;&gt;n3 -->
<g id="edge4" class="edge">
<title>n4&#45;&gt;n3</title>
<path fill="none" stroke="black" d="M121.39,-215.7C121.39,-207.98 121.39,-198.71 121.39,-190.11"/>
<polygon fill="black" stroke="black" points="124.89,-190.1 121.39,-180.1 117.89,-190.1 124.89,-190.1"/>
</g>
<!-- n5 -->
<g id="node6" class="node">
<title>n5</title>
<ellipse fill="none" stroke="black" cx="121.39" cy="-306" rx="38.19" ry="18"/>
<text text-anchor="middle" x="121.39" y="-302.3" font-family="Times,serif" font-size="14.00">@client</text>
</g>
<!-- n5&#45;&gt;n4 -->
<g id="edge5" class="edge">
<title>n5&#45;&gt;n4</title>
<path fill="none" stroke="black" d="M121.39,-287.7C121.39,-279.98 121.39,-270.71 121.39,-262.11"/>
<polygon fill="black" stroke="black" points="124.89,-262.1 121.39,-252.1 117.89,-262.1 124.89,-262.1"/>
</g>
</g>
</svg>

  <h2>Events and Evidence</h2>

<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: Copland Pages: 1 -->
<svg width="1436pt" height="609pt"
 viewBox="0.00 0.00 1436.28 609.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 605)">
<title>Copland</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-605 1432.28,-605 1432.28,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_bank</title>
<polygon fill="none" stroke="black" points="8,-152 8,-593 420,-593 420,-152 8,-152"/>
<text text-anchor="middle" x="398.5" y="-577.8" font-family="Times,serif" font-size="14.00">bank</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_client</title>
<polygon fill="none" stroke="black" points="428,-8 428,-299 998,-299 998,-8 428,-8"/>
<text text-anchor="middle" x="974.5" y="-283.8" font-family="Times,serif" font-size="14.00">client</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_ghost</title>
<polygon fill="none" stroke="black" points="1006,-152 1006,-446 1418,-446 1418,-152 1006,-152"/>
<text text-anchor="middle" x="1395" y="-430.8" font-family="Times,serif" font-size="14.00">ghost</text>
</g>
<!-- n14 -->
<g id="node1" class="node">
<title>n14</title>
<polygon fill="none" stroke="black" points="911,-52 515,-52 515,-16 911,-16 911,-52"/>
<text text-anchor="middle" x="713" y="-30.3" font-family="Times,serif" font-size="14.00">m(msp(prove, client, id), client, m(msp(attest, bank, sys), bank, mt))</text>
</g>
<!-- n15 -->
<g id="node2" class="node">
<title>n15</title>
<ellipse fill="none" stroke="black" cx="1212" cy="-250" rx="71.49" ry="18"/>
<text text-anchor="middle" x="1212" y="-246.3" font-family="Times,serif" font-size="14.00">ghost: rpy(client)</text>
</g>
<!-- n14&#45;&gt;n15 -->
<g id="edge1" class="edge">
<title>n14&#45;&gt;n15</title>
<path fill="none" stroke="black" d="M911.01,-40.13C1096.63,-49.61 1354.92,-76.43 1419,-152 1431.65,-166.92 1430.99,-180.55 1419,-196 1402.44,-217.34 1337.74,-231.55 1285.03,-239.84"/>
<polygon fill="black" stroke="black" points="1284.36,-236.4 1275.01,-241.37 1285.42,-243.32 1284.36,-236.4"/>
</g>
<!-- n16 -->
<g id="node16" class="node">
<title>n16</title>
<polygon fill="none" stroke="black" points="1410,-196 1014,-196 1014,-160 1410,-160 1410,-196"/>
<text text-anchor="middle" x="1212" y="-174.3" font-family="Times,serif" font-size="14.00">m(msp(prove, client, id), client, m(msp(attest, bank, sys), bank, mt))</text>
</g>
<!-- n15&#45;&gt;n16 -->
<g id="edge17" class="edge">
<title>n15&#45;&gt;n16</title>
<path fill="none" stroke="black" d="M1212,-231.7C1212,-223.98 1212,-214.71 1212,-206.11"/>
<polygon fill="black" stroke="black" points="1215.5,-206.1 1212,-196.1 1208.5,-206.1 1215.5,-206.1"/>
</g>
<!-- n12 -->
<g id="node3" class="node">
<title>n12</title>
<polygon fill="none" stroke="black" points="412,-196 16,-196 16,-160 412,-160 412,-196"/>
<text text-anchor="middle" x="214" y="-174.3" font-family="Times,serif" font-size="14.00">m(msp(prove, client, id), client, m(msp(attest, bank, sys), bank, mt))</text>
</g>
<!-- n13 -->
<g id="node4" class="node">
<title>n13</title>
<ellipse fill="none" stroke="black" cx="506" cy="-106" rx="69.59" ry="18"/>
<text text-anchor="middle" x="506" y="-102.3" font-family="Times,serif" font-size="14.00">client: rpy(bank)</text>
</g>
<!-- n12&#45;&gt;n13 -->
<g id="edge2" class="edge">
<title>n12&#45;&gt;n13</title>
<path fill="none" stroke="black" d="M285.06,-159.97C334.6,-148.09 399.94,-132.43 446.68,-121.22"/>
<polygon fill="black" stroke="black" points="447.75,-124.56 456.66,-118.83 446.12,-117.76 447.75,-124.56"/>
</g>
<!-- n13&#45;&gt;n14 -->
<g id="edge12" class="edge">
<title>n13&#45;&gt;n14</title>
<path fill="none" stroke="black" d="M546.4,-91.34C576.6,-81.13 618.39,-66.99 652.56,-55.44"/>
<polygon fill="black" stroke="black" points="654.08,-58.62 662.43,-52.1 651.84,-51.99 654.08,-58.62"/>
</g>
<!-- n10 -->
<g id="node5" class="node">
<title>n10</title>
<polygon fill="none" stroke="black" points="990,-124 594,-124 594,-88 990,-88 990,-124"/>
<text text-anchor="middle" x="792" y="-102.3" font-family="Times,serif" font-size="14.00">m(msp(prove, client, id), client, m(msp(attest, bank, sys), bank, mt))</text>
</g>
<!-- n11 -->
<g id="node6" class="node">
<title>n11</title>
<ellipse fill="none" stroke="black" cx="342" cy="-250" rx="69.59" ry="18"/>
<text text-anchor="middle" x="342" y="-246.3" font-family="Times,serif" font-size="14.00">bank: rpy(client)</text>
</g>
<!-- n10&#45;&gt;n11 -->
<g id="edge3" class="edge">
<title>n10&#45;&gt;n11</title>
<path fill="none" stroke="black" d="M627.59,-124.01C551.63,-132.82 474.71,-143.49 459,-152 436.28,-164.31 440.35,-178.87 421,-196 407.79,-207.7 391.85,-218.86 377.75,-227.9"/>
<polygon fill="black" stroke="black" points="375.86,-224.95 369.26,-233.24 379.59,-230.88 375.86,-224.95"/>
</g>
<!-- n11&#45;&gt;n12 -->
<g id="edge7" class="edge">
<title>n11&#45;&gt;n12</title>
<path fill="none" stroke="black" d="M313.59,-233.46C296.17,-223.94 273.59,-211.59 254.34,-201.06"/>
<polygon fill="black" stroke="black" points="255.92,-197.94 245.47,-196.21 252.57,-204.08 255.92,-197.94"/>
</g>
<!-- n7 -->
<g id="node7" class="node">
<title>n7</title>
<ellipse fill="none" stroke="black" cx="342" cy="-325" rx="69.59" ry="18"/>
<text text-anchor="middle" x="342" y="-321.3" font-family="Times,serif" font-size="14.00">bank: req(client)</text>
</g>
<!-- n7&#45;&gt;n11 -->
<g id="edge8" class="edge">
<title>n7&#45;&gt;n11</title>
<path fill="none" stroke="blue" d="M342,-306.7C342,-298.25 342,-287.87 342,-278.37"/>
<polygon fill="blue" stroke="blue" points="345.5,-278.18 342,-268.18 338.5,-278.18 345.5,-278.18"/>
</g>
<!-- n8 -->
<g id="node8" class="node">
<title>n8</title>
<polygon fill="none" stroke="black" points="648,-268 436,-268 436,-232 648,-232 648,-268"/>
<text text-anchor="middle" x="542" y="-246.3" font-family="Times,serif" font-size="14.00">m(msp(attest, bank, sys), bank, mt)</text>
</g>
<!-- n7&#45;&gt;n8 -->
<g id="edge4" class="edge">
<title>n7&#45;&gt;n8</title>
<path fill="none" stroke="black" d="M386.93,-311.1C399.03,-307.41 412.08,-303.23 424,-299 447.04,-290.82 472.19,-280.75 493.33,-271.95"/>
<polygon fill="black" stroke="black" points="494.87,-275.1 502.74,-268.01 492.16,-268.65 494.87,-275.1"/>
</g>
<!-- n9 -->
<g id="node15" class="node">
<title>n9</title>
<ellipse fill="none" stroke="black" cx="580" cy="-178" rx="112.38" ry="18"/>
<text text-anchor="middle" x="580" y="-174.3" font-family="Times,serif" font-size="14.00">client: msp(prove, client, id)</text>
</g>
<!-- n8&#45;&gt;n9 -->
<g id="edge15" class="edge">
<title>n8&#45;&gt;n9</title>
<path fill="none" stroke="black" d="M551.39,-231.7C555.76,-223.64 561.06,-213.89 565.9,-204.98"/>
<polygon fill="black" stroke="black" points="569.02,-206.56 570.71,-196.1 562.87,-203.22 569.02,-206.56"/>
</g>
<!-- n3 -->
<g id="node9" class="node">
<title>n3</title>
<ellipse fill="none" stroke="black" cx="780" cy="-178" rx="69.59" ry="18"/>
<text text-anchor="middle" x="780" y="-174.3" font-family="Times,serif" font-size="14.00">client: req(bank)</text>
</g>
<!-- n3&#45;&gt;n13 -->
<g id="edge13" class="edge">
<title>n3&#45;&gt;n13</title>
<path fill="none" stroke="blue" d="M739.18,-163.4C726.96,-159.51 713.49,-155.41 701,-152 676.12,-145.21 614.53,-131.16 567.17,-120.56"/>
<polygon fill="blue" stroke="blue" points="567.82,-117.12 557.3,-118.35 566.29,-123.95 567.82,-117.12"/>
</g>
<!-- n4 -->
<g id="node10" class="node">
<title>n4</title>
<polygon fill="none" stroke="black" points="412,-562 358,-562 358,-526 412,-526 412,-562"/>
<text text-anchor="middle" x="385" y="-540.3" font-family="Times,serif" font-size="14.00">mt</text>
</g>
<!-- n3&#45;&gt;n4 -->
<g id="edge5" class="edge">
<title>n3&#45;&gt;n4</title>
<path fill="none" stroke="black" d="M780,-196.41C780,-223.63 780,-277.93 780,-324 780,-398 780,-398 780,-398 780,-473.77 520.64,-521.95 422.24,-537.51"/>
<polygon fill="black" stroke="black" points="421.49,-534.08 412.15,-539.08 422.57,-541 421.49,-534.08"/>
</g>
<!-- n5 -->
<g id="node14" class="node">
<title>n5</title>
<ellipse fill="none" stroke="black" cx="302" cy="-472" rx="110.48" ry="18"/>
<text text-anchor="middle" x="302" y="-468.3" font-family="Times,serif" font-size="14.00">bank: msp(attest, bank, sys)</text>
</g>
<!-- n4&#45;&gt;n5 -->
<g id="edge11" class="edge">
<title>n4&#45;&gt;n5</title>
<path fill="none" stroke="black" d="M364.48,-525.7C354.05,-516.9 341.22,-506.08 329.91,-496.54"/>
<polygon fill="black" stroke="black" points="331.9,-493.63 321.99,-489.86 327.38,-498.99 331.9,-493.63"/>
</g>
<!-- n1 -->
<g id="node11" class="node">
<title>n1</title>
<ellipse fill="none" stroke="black" cx="1085" cy="-325" rx="71.49" ry="18"/>
<text text-anchor="middle" x="1085" y="-321.3" font-family="Times,serif" font-size="14.00">ghost: req(client)</text>
</g>
<!-- n1&#45;&gt;n15 -->
<g id="edge18" class="edge">
<title>n1&#45;&gt;n15</title>
<path fill="none" stroke="blue" d="M1112.24,-308.34C1130.7,-297.73 1155.3,-283.59 1175.45,-272.01"/>
<polygon fill="blue" stroke="blue" points="1177.44,-274.9 1184.36,-266.89 1173.95,-268.84 1177.44,-274.9"/>
</g>
<!-- n2 -->
<g id="node12" class="node">
<title>n2</title>
<polygon fill="none" stroke="black" points="752,-268 698,-268 698,-232 752,-232 752,-268"/>
<text text-anchor="middle" x="725" y="-246.3" font-family="Times,serif" font-size="14.00">mt</text>
</g>
<!-- n1&#45;&gt;n2 -->
<g id="edge6" class="edge">
<title>n1&#45;&gt;n2</title>
<path fill="none" stroke="black" d="M1031.1,-313.07C957.15,-298.08 826.14,-271.51 762.19,-258.54"/>
<polygon fill="black" stroke="black" points="762.65,-255.06 752.16,-256.51 761.26,-261.92 762.65,-255.06"/>
</g>
<!-- n2&#45;&gt;n3 -->
<g id="edge16" class="edge">
<title>n2&#45;&gt;n3</title>
<path fill="none" stroke="black" d="M738.6,-231.7C745.12,-223.39 753.07,-213.28 760.25,-204.14"/>
<polygon fill="black" stroke="black" points="763.13,-206.13 766.56,-196.1 757.63,-201.81 763.13,-206.13"/>
</g>
<!-- n6 -->
<g id="node13" class="node">
<title>n6</title>
<polygon fill="none" stroke="black" points="410,-415 198,-415 198,-379 410,-379 410,-415"/>
<text text-anchor="middle" x="304" y="-393.3" font-family="Times,serif" font-size="14.00">m(msp(attest, bank, sys), bank, mt)</text>
</g>
<!-- n6&#45;&gt;n7 -->
<g id="edge9" class="edge">
<title>n6&#45;&gt;n7</title>
<path fill="none" stroke="black" d="M313.39,-378.7C317.76,-370.64 323.06,-360.89 327.9,-351.98"/>
<polygon fill="black" stroke="black" points="331.02,-353.56 332.71,-343.1 324.87,-350.22 331.02,-353.56"/>
</g>
<!-- n5&#45;&gt;n6 -->
<g id="edge10" class="edge">
<title>n5&#45;&gt;n6</title>
<path fill="none" stroke="black" d="M302.47,-453.7C302.71,-445.25 302.99,-434.87 303.25,-425.37"/>
<polygon fill="black" stroke="black" points="306.75,-425.27 303.53,-415.18 299.76,-425.08 306.75,-425.27"/>
</g>
<!-- n9&#45;&gt;n10 -->
<g id="edge14" class="edge">
<title>n9&#45;&gt;n10</title>
<path fill="none" stroke="black" d="M626.79,-161.55C657.42,-151.44 697.76,-138.12 730.91,-127.17"/>
<polygon fill="black" stroke="black" points="732.11,-130.46 740.51,-124 729.91,-123.81 732.11,-130.46"/>
</g>
<!-- n0 -->
<g id="node17" class="node">
<title>n0</title>
<polygon fill="none" stroke="black" points="1112,-415 1058,-415 1058,-379 1112,-379 1112,-415"/>
<text text-anchor="middle" x="1085" y="-393.3" font-family="Times,serif" font-size="14.00">mt</text>
</g>
<!-- n0&#45;&gt;n1 -->
<g id="edge19" class="edge">
<title>n0&#45;&gt;n1</title>
<path fill="none" stroke="black" d="M1085,-378.7C1085,-370.98 1085,-361.71 1085,-353.11"/>
<polygon fill="black" stroke="black" points="1088.5,-353.1 1085,-343.1 1081.5,-353.1 1088.5,-353.1"/>
</g>
</g>
</svg>

</body>
</html>
