<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="content-type"
        content="application/xhtml+xml; charset=UTF-8" />
  <title>cb_sq.md</title>
  <style type="text/css">
    h1 { text-align: center }
    blockquote.block { font-size: 16pt }
    body { background: white; color: black; max-width: 48em }
  </style>
</head>

<body>

  <h1>cb_sq.md</h1>

  <h2>Copland Source</h2>

  <blockquote class="block">
    <pre>
*client: @bank [attest bank sys] -&gt; prove client id
    </pre>
  </blockquote>

  <h2>Abstract Syntax Tree</h2>

<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: AST Pages: 1 -->
<svg width="248pt" height="188pt"
 viewBox="0.00 0.00 248.14 188.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 184)">
<title>AST</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-184 244.14,-184 244.14,4 -4,4"/>
<!-- n0 -->
<g id="node1" class="node">
<title>n0</title>
<ellipse fill="none" stroke="black" cx="62.39" cy="-18" rx="62.29" ry="18"/>
<text text-anchor="middle" x="62.39" y="-14.3" font-family="Times,serif" font-size="14.00">attest bank sys</text>
</g>
<!-- n1 -->
<g id="node2" class="node">
<title>n1</title>
<ellipse fill="none" stroke="black" cx="62.39" cy="-90" rx="36.29" ry="18"/>
<text text-anchor="middle" x="62.39" y="-86.3" font-family="Times,serif" font-size="14.00">@bank</text>
</g>
<!-- n1&#45;&gt;n0 -->
<g id="edge1" class="edge">
<title>n1&#45;&gt;n0</title>
<path fill="none" stroke="black" d="M62.39,-71.7C62.39,-63.98 62.39,-54.71 62.39,-46.11"/>
<polygon fill="black" stroke="black" points="65.89,-46.1 62.39,-36.1 58.89,-46.1 65.89,-46.1"/>
</g>
<!-- n2 -->
<g id="node3" class="node">
<title>n2</title>
<ellipse fill="none" stroke="black" cx="178.39" cy="-90" rx="61.99" ry="18"/>
<text text-anchor="middle" x="178.39" y="-86.3" font-family="Times,serif" font-size="14.00">prove client id</text>
</g>
<!-- n3 -->
<g id="node4" class="node">
<title>n3</title>
<ellipse fill="none" stroke="black" cx="120.39" cy="-162" rx="27" ry="18"/>
<text text-anchor="middle" x="120.39" y="-158.3" font-family="Times,serif" font-size="14.00">&#45;&gt;</text>
</g>
<!-- n3&#45;&gt;n1 -->
<g id="edge2" class="edge">
<title>n3&#45;&gt;n1</title>
<path fill="none" stroke="black" d="M107.81,-145.81C100.34,-136.8 90.71,-125.18 82.24,-114.95"/>
<polygon fill="black" stroke="black" points="84.84,-112.6 75.76,-107.13 79.45,-117.07 84.84,-112.6"/>
</g>
<!-- n3&#45;&gt;n2 -->
<g id="edge3" class="edge">
<title>n3&#45;&gt;n2</title>
<path fill="none" stroke="black" d="M132.98,-145.81C140.34,-136.93 149.81,-125.5 158.19,-115.39"/>
<polygon fill="black" stroke="black" points="160.93,-117.56 164.62,-107.63 155.54,-113.1 160.93,-117.56"/>
</g>
</g>
</svg>

  <h2>Events and Evidence</h2>

<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: Copland Pages: 1 -->
<svg width="680pt" height="462pt"
 viewBox="0.00 0.00 680.00 462.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 458)">
<title>Copland</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-458 676,-458 676,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_bank</title>
<polygon fill="none" stroke="black" points="428,-80 428,-299 664,-299 664,-80 428,-80"/>
<text text-anchor="middle" x="642.5" y="-283.8" font-family="Times,serif" font-size="14.00">bank</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_client</title>
<polygon fill="none" stroke="black" points="8,-8 8,-446 420,-446 420,-8 8,-8"/>
<text text-anchor="middle" x="396.5" y="-430.8" font-family="Times,serif" font-size="14.00">client</text>
</g>
<!-- n4 -->
<g id="node1" class="node">
<title>n4</title>
<polygon fill="none" stroke="black" points="650,-124 438,-124 438,-88 650,-88 650,-124"/>
<text text-anchor="middle" x="544" y="-102.3" font-family="Times,serif" font-size="14.00">m(msp(attest, bank, sys), bank, mt)</text>
</g>
<!-- n5 -->
<g id="node2" class="node">
<title>n5</title>
<ellipse fill="none" stroke="black" cx="342" cy="-250" rx="69.59" ry="18"/>
<text text-anchor="middle" x="342" y="-246.3" font-family="Times,serif" font-size="14.00">client: rpy(bank)</text>
</g>
<!-- n4&#45;&gt;n5 -->
<g id="edge1" class="edge">
<title>n4&#45;&gt;n5</title>
<path fill="none" stroke="black" d="M495.66,-124.02C473.65,-132.96 447.92,-145.17 427,-160 401.38,-178.17 377.16,-204.82 361.17,-224.22"/>
<polygon fill="black" stroke="black" points="358.41,-222.06 354.85,-232.04 363.86,-226.47 358.41,-222.06"/>
</g>
<!-- n6 -->
<g id="node8" class="node">
<title>n6</title>
<polygon fill="none" stroke="black" points="335,-196 123,-196 123,-160 335,-160 335,-196"/>
<text text-anchor="middle" x="229" y="-174.3" font-family="Times,serif" font-size="14.00">m(msp(attest, bank, sys), bank, mt)</text>
</g>
<!-- n5&#45;&gt;n6 -->
<g id="edge7" class="edge">
<title>n5&#45;&gt;n6</title>
<path fill="none" stroke="black" d="M316.36,-233.12C301.3,-223.79 282.03,-211.85 265.42,-201.56"/>
<polygon fill="black" stroke="black" points="266.86,-198.34 256.51,-196.04 263.17,-204.29 266.86,-198.34"/>
</g>
<!-- n1 -->
<g id="node3" class="node">
<title>n1</title>
<ellipse fill="none" stroke="black" cx="342" cy="-325" rx="69.59" ry="18"/>
<text text-anchor="middle" x="342" y="-321.3" font-family="Times,serif" font-size="14.00">client: req(bank)</text>
</g>
<!-- n1&#45;&gt;n5 -->
<g id="edge8" class="edge">
<title>n1&#45;&gt;n5</title>
<path fill="none" stroke="blue" d="M342,-306.7C342,-298.25 342,-287.87 342,-278.37"/>
<polygon fill="blue" stroke="blue" points="345.5,-278.18 342,-268.18 338.5,-278.18 345.5,-278.18"/>
</g>
<!-- n2 -->
<g id="node4" class="node">
<title>n2</title>
<polygon fill="none" stroke="black" points="490,-268 436,-268 436,-232 490,-232 490,-268"/>
<text text-anchor="middle" x="463" y="-246.3" font-family="Times,serif" font-size="14.00">mt</text>
</g>
<!-- n1&#45;&gt;n2 -->
<g id="edge2" class="edge">
<title>n1&#45;&gt;n2</title>
<path fill="none" stroke="black" d="M394.41,-313.09C404.73,-309.58 415.11,-304.98 424,-299 432.73,-293.13 440.49,-284.72 446.74,-276.58"/>
<polygon fill="black" stroke="black" points="449.69,-278.47 452.69,-268.31 444.01,-274.38 449.69,-278.47"/>
</g>
<!-- n3 -->
<g id="node5" class="node">
<title>n3</title>
<ellipse fill="none" stroke="black" cx="546" cy="-178" rx="110.48" ry="18"/>
<text text-anchor="middle" x="546" y="-174.3" font-family="Times,serif" font-size="14.00">bank: msp(attest, bank, sys)</text>
</g>
<!-- n2&#45;&gt;n3 -->
<g id="edge4" class="edge">
<title>n2&#45;&gt;n3</title>
<path fill="none" stroke="black" d="M483.52,-231.7C493.95,-222.9 506.78,-212.08 518.09,-202.54"/>
<polygon fill="black" stroke="black" points="520.62,-204.99 526.01,-195.86 516.1,-199.63 520.62,-204.99"/>
</g>
<!-- n3&#45;&gt;n4 -->
<g id="edge3" class="edge">
<title>n3&#45;&gt;n4</title>
<path fill="none" stroke="black" d="M545.51,-159.7C545.29,-151.98 545.02,-142.71 544.77,-134.11"/>
<polygon fill="black" stroke="black" points="548.27,-134 544.49,-124.1 541.28,-134.2 548.27,-134"/>
</g>
<!-- n7 -->
<g id="node6" class="node">
<title>n7</title>
<ellipse fill="none" stroke="black" cx="222" cy="-106" rx="112.38" ry="18"/>
<text text-anchor="middle" x="222" y="-102.3" font-family="Times,serif" font-size="14.00">client: msp(prove, client, id)</text>
</g>
<!-- n8 -->
<g id="node7" class="node">
<title>n8</title>
<polygon fill="none" stroke="black" points="412,-52 16,-52 16,-16 412,-16 412,-52"/>
<text text-anchor="middle" x="214" y="-30.3" font-family="Times,serif" font-size="14.00">m(msp(prove, client, id), client, m(msp(attest, bank, sys), bank, mt))</text>
</g>
<!-- n7&#45;&gt;n8 -->
<g id="edge5" class="edge">
<title>n7&#45;&gt;n8</title>
<path fill="none" stroke="black" d="M220.02,-87.7C219.14,-79.98 218.08,-70.71 217.1,-62.11"/>
<polygon fill="black" stroke="black" points="220.57,-61.64 215.95,-52.1 213.61,-62.44 220.57,-61.64"/>
</g>
<!-- n6&#45;&gt;n7 -->
<g id="edge6" class="edge">
<title>n6&#45;&gt;n7</title>
<path fill="none" stroke="black" d="M227.27,-159.7C226.5,-151.98 225.57,-142.71 224.71,-134.11"/>
<polygon fill="black" stroke="black" points="228.19,-133.71 223.71,-124.1 221.22,-134.4 228.19,-133.71"/>
</g>
<!-- n0 -->
<g id="node9" class="node">
<title>n0</title>
<polygon fill="none" stroke="black" points="369,-415 315,-415 315,-379 369,-379 369,-415"/>
<text text-anchor="middle" x="342" y="-393.3" font-family="Times,serif" font-size="14.00">mt</text>
</g>
<!-- n0&#45;&gt;n1 -->
<g id="edge9" class="edge">
<title>n0&#45;&gt;n1</title>
<path fill="none" stroke="black" d="M342,-378.7C342,-370.98 342,-361.71 342,-353.11"/>
<polygon fill="black" stroke="black" points="345.5,-353.1 342,-343.1 338.5,-353.1 345.5,-353.1"/>
</g>
</g>
</svg>

</body>
</html>
